Синтаксис компиляции DIALOGUE.FIX

romiq.kh@gmail.com
v0.3 2014-06-03

<u>Синтаксис файла</u>

Команды указываются построчно, разбиение одной команды на несколько строк не 
допускается. Часть строки после символа '#' считается комментарием.


Обозначения:
 * \<обязательные параметры\>
 * [необязательные]
 * "строка"

В файле могут быть определены следующие записи:

 * MSG - сообщения, попадают в DIALOGUE.LOD
 * DLGGRP - группы сообщений, попадают в DIALOGUE.FIX
 
<u>MSG</u>

Каждая запись должна состоять из 2х строк. В второй строке должна быть только 
одна запись.

MSG \<идентификатор объекта\> \<"имя файла wav"\> [\<аргумент 1\> [\<аргумент 2\> [\<аргумент 3\>]]]
  \<"Текст сообщения для субтитров"\>

Аргументы - число от 0 до 0xffffffff. Аргументы могут отутствовать, в этом 
случае они будут заменены 0.

<u>DLGGRP</u>

DLGGRP \<номер группы\> [\<аргумент\>]
  [обработчики - ON]
ENDDLGGRP

Аргумент - число от 0 до 0xffffffff. Аргумент может отутствовать, в этом 
случае он будет заменён 0.

<u>ON</u>

ON \<код операции\> \<идентификатор объекта\> [\<аргумент 1\> [\<аргумент 2\>]]
  [список - DLG]
ENDON

Код операции - код операции при выполнении которой будет выполнен обработчик
 (см. <a href="/help/comp_scr">Синтаксис компиляции SCRIPT.DAT</a>).
Также есть специальный код 0xFFFE.

Идентификатор объекта - идентификатор объекта к которому была применена 
операция.

Аргументы - числа от 0 до 0xffffffff. Аргументы могут отутствовать, в этом 
случае они будут заменены 0.

<u>DLG</u>

DLG [\<аргумент 1\> [\<аргумент 2\>]]
  [операции]
  [\<метка перехода\>:]
ENDDLG

Аргументы - число от 0 до 0xffffffff. Аргументы могут отутствовать, в этом 
случае они будут заменены 0.

<u>операции</u>

\<код операции\> [\<аргумент\> [\<ссылка на сообщение\>]]

Аргумент - число от 0 до 0xff. Аргумент может отутствовать, в этом 
случае он будет заменён 0.

Отсутствующая ссылка также будет заменена на 0.

Операции:

 * 1 - BREAK
 * 2 - MENU
 * 3 - GOTO
 * 4 - MENURET
 * 6 - RETURN
 * 7 - PLAY
 * 8 - CIRCLE
 * число 0..0xff

